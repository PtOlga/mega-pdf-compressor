# üê≥ –†–∞–±–æ—Ç–∞ —Å Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω Docker –ª–æ–∫–∞–ª—å–Ω–æ?

- ‚úÖ –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Railway
- ‚úÖ –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Docker-–æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚ùå –ù–ï –Ω—É–∂–µ–Ω –¥–ª—è –æ–±—ã—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SETUP_LOCAL.md`)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

### Windows:
1. –°–∫–∞—á–∞–π—Ç–µ [Docker Desktop](https://www.docker.com/products/docker-desktop/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker --version`

### Linux:
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install docker.io docker-compose
sudo systemctl start docker
sudo usermod -aG docker $USER  # –ü–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ
```

### Mac:
1. –°–∫–∞—á–∞–π—Ç–µ [Docker Desktop for Mac](https://www.docker.com/products/docker-desktop/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ

---

## –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker-–æ–±—Ä–∞–∑

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend/`

```bash
cd backend
copy .env.example .env    # Windows
cp .env.example .env      # Linux/Mac
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏ iLovePDF.

### 2. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑

```bash
# –ù–∞—Ö–æ–¥—è—Å—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
docker build -t mega-pdf-compressor ./backend
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ–±—Ä–∞–∑ —Å –∏–º–µ–Ω–µ–º `mega-pdf-compressor`.

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker run -p 8000:8000 --env-file backend/.env mega-pdf-compressor
```

–ò–ª–∏ —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```bash
docker run -p 8000:8000 \
  -e ILOVEPDF_PUBLIC_KEY=your_public_key \
  -e ILOVEPDF_SECRET_KEY=your_secret_key \
  mega-pdf-compressor
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8000/health`

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `OK`

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker stop <container_id>

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker logs <container_id>

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker rm <container_id>

# –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑
docker rmi mega-pdf-compressor

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune -a
```

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway (–ë–ï–ó –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Docker!)

Railway **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Å–æ–±–µ—Ä—ë—Ç Docker-–æ–±—Ä–∞–∑ –∏–∑ –≤–∞—à–µ–≥–æ `Dockerfile`.

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Railway:
1. –í–∏–¥–∏—Ç `backend/Dockerfile` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `docker build`
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≤–∞—à–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –î–∞—ë—Ç –≤–∞–º –ø—É–±–ª–∏—á–Ω—ã–π URL

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
1. –ó–∞–ø—É—à–∏—Ç—å –∫–æ–¥ –Ω–∞ GitHub
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Railway
3. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:
   - `ILOVEPDF_PUBLIC_KEY`
   - `ILOVEPDF_SECRET_KEY`
4. Railway —Å–∞–º –≤—Å—ë —Å–æ–±–µ—Ä—ë—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç!

---

## ‚úÖ –í—ã–≤–æ–¥

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `SETUP_LOCAL.md` (–±–µ–∑ Docker)  
**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** Railway —Å–∞–º —Å–æ–±–µ—Ä—ë—Ç Docker (–≤–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å)  
**Docker –ª–æ–∫–∞–ª—å–Ω–æ:** –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞

